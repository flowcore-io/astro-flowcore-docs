---
import { getCollection } from "astro:content";

const allPages: { slug: string }[] = await getCollection("docs");

// ignore "this" page, to simplify usage - removing the worry of infinite link loopbacks
const thisPath = Astro.url.pathname;
const pages = allPages.filter((doc) => `/${doc.slug}/` !== thisPath);
---

<ul>
    {
        pages.map((page) => (
            <li>
                <a id={page.slug} href={`/${page.slug}`}>
                    {page.slug}
                </a>
            </li>
        ))
    }
</ul>
