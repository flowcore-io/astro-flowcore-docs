---
title: Create Resources
description: Create resources in Flowcore using a manifest file
---
import {Card} from '@astrojs/starlight/components';

The Flowcore CLI allows you to create resources in Flowcore using a manifest file. This is useful for creating multiple
resources at once, or for creating resources in a CI/CD pipeline.

## Data Cores

To create a data core, you can use the `apply` command with a manifest file. The manifest file should be in YAML format.

```yaml
tenant: example-tenant
dataCore:
  name: example-data-core
  description: "An example data core"
  flowTypes:
    example:
      description: "An example flow type"
      eventTypes:
        example.event.0:
          description: "An example event"
```

to generate a manifest file, you can use the `generate` command:

```sh
flowcore data-core generate manifest -t example-tenant --placeholder
```

this will generate a `flowcore.yaml` file, then run the following command to apply the manifest file

```sh
flowcore data-core apply -f flowcore.yaml
```

this will create a plan to create the data core, and then apply the plan to create the data core.

<Card title="overwrite" icon="information">
    <p>
        If a data core already exists in the manifest file, you will be prompted to overwrite the existing data core.
        pass the `--overwrite` flag to overwrite the existing data core without being prompted.
    </p>
</Card>

## Scenarios

To create a scenario, you can use the `apply` command with a manifest file. The manifest file should be in YAML format.

```yaml
tenant: example-tenant
scenario:
  name: example-scenario
  description: "An example scenario"
  transformers:
    example-transformer:
      description: "An example transformer"
      dataCore: example-data-core
      flowType: example
      events:
        - example.event.0
      parameters:
        - name: PROXY_ENDPOINT
          type: manual
          value: "https://example.com"
      blueprint:
        artifactUrl: "https://flowcore-public-runtimes.s3.eu-west-1.amazonaws.com/transformer-proxy-1.1.0.zip"
```

to generate a manifest file, you can use the `generate` command:

```sh
flowcore scenario generate manifest -t example-tenant --placeholder
```

this will generate a `flowcore.yaml` file, then run the following command to apply the manifest file

```sh
flowcore scenario apply -f scenario.yaml
```

this will create a plan to create the scenario, and then apply the plan to create the scenario.

<Card title="Parameters" icon="information">
    <p>
        Parameters can be configured with a type of `manual`, `secret` or `variable`. The `manual` type is used for
        parameters that are manually set by the user. The `secret` type is used for parameters that are sensitive and
        are stored on the organization level. The `variable` type is used for parameters that are set on the organization level and
        are shared across all scenarios in the organization.
    </p>
</Card>

## Apply all resources

You can also apply all resources in a manifest file at once by using the root `apply` command:

```sh
flowcore apply -f manifest.yaml
```

## Delete Protection

By default, data cores are created without delete protection enabled. You can enable delete protection by setting
`deleteProtection` to `true` for each resource in the manifest file.

```yaml
tenant: example-tenant
dataCore:
  name: example-data-core
  deleteProtection: true
```
Keep in mind that if delete protection is enabled on a resource all nested resources will also have delete
protection enabled. To delete a resource with delete protection enabled, you must first disable delete protection.

## Endpoints (Experimental)

To add an endpoint to a transformer, you can add the this to the manifest file:

```yaml
tenant: example-tenant
scenario:
  name: example-scenario
  transformers:
    example-transformer:
      endPoint:
        name: example-endpoint
        type: "DATA_CORE"
        definition:
          dataCore: some-data-core
          flowType: some-flow-type
          eventType: some-event-type
```

This will set up an endpoint for the transformer that will send data returned from the transformer to the specified data core.